# --- LLM setup ---
llm:
  type: kedro_datasets_experimental.langchain.ChatOpenAIDataset
  kwargs:
    model: "gpt-4o"
    temperature: 0.0
  credentials: openai

# --- Prompts ---
tool_prompt:
  type: kedro_datasets_experimental.langchain.LangChainPromptDataset
  filepath: data/response_generation/prompts/tool.txt
  template: PromptTemplate

response_prompt:
  type: kedro_datasets_experimental.langchain.LangChainPromptDataset
  filepath: data/response_generation/prompts/response.yml
  template: ChatPromptTemplate

intent_prompt_langfuse:
  type: kedro_agentic_workflows.datasets.langfuse_prompt_dataset.LangfusePromptDataset
  filepath: data/intent_detection/prompts/intent_prompt_langfuse.json
  prompt_name: "intent-classifier"
  prompt_type: "chat"
  credentials: langfuse_credentials
  sync_policy: local      # local|remote|strict
  mode: langchain         # langchain|sdk

# Example: Load specific version, save with labels
# intent_prompt_versioned:
#   type: kedro_agentic_workflows.datasets.langfuse_prompt_dataset.LangfusePromptDataset
#   filepath: data/intent_detection/prompts/intent_prompt_v3.json
#   prompt_name: "intent-classifier"
#   prompt_type: "chat"
#   credentials: langfuse_credentials
#   sync_policy: local
#   mode: langchain
#   load_args:
#     version: 3
#   save_args:
#     labels: ["backup", "v3.0"]

# --- Langfuse Tracing ---
intent_tracer_langfuse:
  type: kedro_agentic_workflows.datasets.langfuse_trace_dataset.LangfuseTraceDataset
  credentials: langfuse_credentials
  mode: langchain     # langchain | openai | sdk

# intent_prompt_opik:
#   type: kedro_agentic_workflows.datasets.opik_prompt_dataset.PromptDataset
#   filepath: data/intent_detection/prompts/intent_prompt_opik.json
#   prompt_name: "intent-classifier"
#   prompt_type: "chat"
#   credentials: opik_credentials
