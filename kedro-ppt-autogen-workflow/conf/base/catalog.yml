# ============================================================================
# DATA CATALOG - AutoGen PPT Generation Pipeline
# ============================================================================

# ==============================================================================
# INPUT DATASETS
# ==============================================================================

slide_generation_requirements:
  type: yaml.YAMLDataset
  filepath: data/ppt_generation/sample/slide_generation_requirements.yaml

sales_data:
  type: pandas.CSVDataset
  filepath: data/ppt_generation/sample/sales_50_products.csv


# ==============================================================================
# PROMPT DATASETS - Using kedro-datasets-experimental LangChainPromptDataset
# ==============================================================================

planner_system_prompt:
  type: kedro_datasets_experimental.langchain.LangChainPromptDataset
  filepath: data/ppt_generation/prompts/planner_system.yml
  template: ChatPromptTemplate
  dataset:
        type: yaml.YAMLDataset

chart_generator_system_prompt:
  type: kedro_datasets_experimental.langchain.LangChainPromptDataset
  filepath: data/ppt_generation/prompts/chart_generator_system.yml
  template: ChatPromptTemplate
  dataset:
    type: yaml.YAMLDataset

chart_generator_user_prompt:
  type: kedro_datasets_experimental.langchain.LangChainPromptDataset
  filepath: data/ppt_generation/prompts/chart_generator_user.yml
  template: ChatPromptTemplate
  dataset:
    type: yaml.YAMLDataset

summarizer_system_prompt:
  type: kedro_datasets_experimental.langchain.LangChainPromptDataset
  filepath: data/ppt_generation/prompts/summarizer_system.yml
  template: ChatPromptTemplate
  dataset:
    type: yaml.YAMLDataset

summarizer_user_prompt:
  type: kedro_datasets_experimental.langchain.LangChainPromptDataset
  filepath: data/ppt_generation/prompts/summarizer_user.yml
  template: ChatPromptTemplate
  dataset:
    type: yaml.YAMLDataset

critic_system_prompt:
  type: kedro_datasets_experimental.langchain.LangChainPromptDataset
  filepath: data/ppt_generation/prompts/critic_system.yml
  template: ChatPromptTemplate
  dataset:
    type: yaml.YAMLDataset

critic_user_prompt:
  type: kedro_datasets_experimental.langchain.LangChainPromptDataset
  filepath: data/ppt_generation/prompts/critic_user.yml
  template: ChatPromptTemplate
  dataset:
    type: yaml.YAMLDataset

# ==============================================================================
# INTERMEDIATE DATASETS - Analyzed Requirements (Versioned)
# ==============================================================================

planner_requirements:
  type: json.JSONDataset
  filepath: data/ppt_generation/intermediate/planner_requirements.json
  versioned: true

chart_requirements:
  type: json.JSONDataset
  filepath: data/ppt_generation/intermediate/chart_requirements.json
  versioned: true

summarizer_requirements:
  type: json.JSONDataset
  filepath: data/ppt_generation/intermediate/summarizer_requirements.json
  versioned: true


# ==============================================================================
# INTERMEDIATE DATASETS - Charts and Summaries (Partitioned)
# ==============================================================================

slide_charts:
  type: partitions.PartitionedDataset
  path: data/ppt_generation/intermediate/charts
  dataset:
    type: matplotlib.MatplotlibDataset
  filename_suffix: .png

slide_summaries:
  type: partitions.PartitionedDataset
  path: data/ppt_generation/intermediate/summaries
  dataset:
    type: text.TextDataset
  filename_suffix: .txt


# ==============================================================================
# OUTPUT - Final Presentation (Versioned)
# ==============================================================================

sales_analysis:
  type: openxml.PptxDataset
  filepath: data/ppt_generation/output/sales_analysis.pptx
  versioned: true
